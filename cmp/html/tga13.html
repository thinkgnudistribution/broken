<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC
	"-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja"><head
><link rev="made" href="./"
/><link rel="contents" href="./"
/><title>Think GNU 第 13 回</title></head><body>
<ul>
<li><a href="../orig/copying">取り扱い注意</a></li>
<li><a href="tgb01.html">次→</a></li>
<li><a href="tga12.html">←前</a></li>
<li><a href="tga00.html">まえがき、目次</a></li>
<li><a href="../">(HTML版)Think GNU配布</a></li>
</ul>
<hr/>
<h1>Think GNU 第 13 回</h1>
<h2>□番外　ダラス USENIX 編□</h2>

<p>CJ No.5/'91.3.18 発売号掲載</p>


<h3 id="h.0">0. はじめに</h3>

<p>　ダラス行きの直行便は空いていた。東京から 10 時間 30 分あまりの飛行で、日本との時差が 15 時間あるので、また時差ボケにやられるな、と思いつつ飛行機から降りた。</p>
<p>　ここ 3ヵ月の間、北京、香港、ダラス、ボストンと海外に出かける機会が続いた。少し疲れたが、ようやく落ち着いて本業に取り掛かれる。湾岸戦争のために、これからもうしばらくは海外には出られないだろう (出なくて済むだろう)。北京、香港、ボストンでは予想通り食べるものには事欠かなかった。ダラスでは初めての土地のせいか、食べるものを探すのに苦労したし、見つかっても大味な点に加えて時差でまいっていた。ボストンでは中華と日本料理をと思ったが、忙しくて MIT の中でのみの食事となってしまった。<a href="#n.a">◆1</a></p>
<p>　ダラスでミーティングがあり、ついでに USENIX に参加した。Uniforum の展示会が開かれていたが、戦争の影響で特に日本からの参加者が少なかった。</p>
<p>　USENIX は、いつものように 2 つのチュートリアルとテクニカル・セッションに分かれている。今回は、1 日目の Richard による gcc 入門と、2 日目の Stephan C. Johnson による並列プログラミング入門に出席した。休憩時間と夜から深夜にかけては端末室 <a href="#n.b">*1</a> に入り浸りで作業していた。テクニカル・セッションにも参加したあとボストンへ移動し、プロジェクト GNU のマシンを借りてログインするとともに Richard らと打ち合わせを行なった。</p>
<p>　帰国してしばらくすると、CMU の Mach カーネルのコピー・フリーの部分が配布された。そのソース・コードを読むので、ここ当分忙しい。</p>

<h3 id="h.1">1.USENIX</h3>

<p>　Uniforum の展示会にはとうとう時間がなくて行けなかった。USENIX の会場は、ダラスの Grand Kempinski ホテルで開催され、Uniforum の展示会場から車で 30 分、空港からも 30 分の距離の所であった。USENIX の会場と Uniforum の会場は無料のシャトル・バスが運行していた。</p>
<p>　キーノート・セッションは Pixer 社の人が講演した。Pixer 社には NeXT 社も出資しており、RenderMan という 3 次元の PostScript と言われる言語とそのツールで有名である。発表の後の、3 次元のカラーのデモンストレーションは音が入っていて迫力があった。その中の多くは実際の TV コマーシャルで使われているものだそうで、Unix マシンが数多く採用されている。これからは CPU 能力をこういった方向に使うようになるだろう。アプリケーション・プログラムはなく、簡単にプログラミングできるツールも用意されていないので、グラフィック・コマンドを書くのは困難ではあるものの、自分の身近にグラフィック・ワークステーションがあれば面白いだろう。</p>
<p>　テクニカル・セッションでは、分散ファイル・システムのパネル・ディスカッションが興味を引いた。ベル研の Plan 9 と Sun の NFS(Network File System)、Transarc 社の AFS(Andrew File System) のそれぞれの代表者がパネラーであった。<a href="#n.c">◆2</a></p>

<h4>1-1. チュートリアル</h4>

<p>　前述のように、今回のチュートリアルでは次のものに出席した。</p>

<ul>
<li><p>Richard Stallman,&quot;Internals of The GNU C　Compiler&quot;<a href="#r.a">★1</a></p></li>
<li><p>Stephen C. Johnson,&quot;PARALLEL PROGRAMMING AND SCALABLE SOFTWARE&quot;<a href="#r.b">★2</a></p></li>
</ul>

<h4>1-2.gcc</h4>

<p>　gcc のチュートリアルを聞くのは 3 度目なので、これまでの講義内容とほぼ同じであった。次のような目的を持っている人に有効であろう。作業方針やデバックの方法も提示していた。</p>

<ul>
<li><p>新しいアーキテクチャ用の gcc(retarget) を作ろうとする人</p></li>
<li><p>gcc 用の新しいフロント・エンドを作成しようとする人</p></li>
<li><p>gcc に新しいパスを追加して、より良いコードを生成したい人</p></li>
</ul>

<p>　目新しい点として、内部データ構造が C++ 用のものだけではなく、Fortran 用のものも入ってきた。ボストンに寄った際に Richard と話していて、GNU Fortran が動き始めている、と言っていた。ライブラリも作ってあるとのこと。私は特に興味はないが、Fortran で記述されたベンチマーク・テストでも良い性能を期待できる。というのは、gcc を使ったベンチマークの結果が良いので、そのバックエンドを使用している Fortran の高得点が期待されるからである。</p>

<h4>1-3. 並列プログラミング</h4>

<p>　並列処理の分野において、移植性が良く汎用のプログラミング言語でよく使われているプログラムや方法論は現在では存在しないので、従ってノウハウもない。しかし、特定のアーキテクチャのマシンではノウハウが蓄積されていることがわかった。</p>
<p>　CPU の増加に伴って能力が上がるようなプログラムの作成方法、あるいは問題領域 (アプリケーション分野) の選択の説明があった。</p>

<h3 id="h.2">2. プロジェクト GNU の作業項目</h3>

<p>　ボストンはやはり寒かった。例年に比べれば暖かかったが、雨が降る程度でもマフラーとスキー用の帽子と手袋をして、プロジェクト GNU の作業場所である MIT の LCS(Laboratory Computer Science、コンピュータ科学研究所) へ向かった。そこに寄って Richard らと 2 回にわたって、これからどんなツールを作成していくか、それらにはどんな特徴を持たせたいか、について話し合った。その概略の一部を紹介する。</p>

<h4>2-1.Oleo 用の X インタフェース</h4>

<p>　スプレッドシートは簡易計算ツールで、一説によると、ビジネス用のパーソナル・コンピュータ市場はこのプログラムで立ち上がったとも言われる。実際に使ってみるのが一番早いが、簡単に説明してみる。縦の合計や横の合計を多用している計算書を作る場合は、昔ならば電卓と格闘して作成した。まして同じような計算書を複数枚、数種類作る場合は大変面倒である。このプログラムは、それぞれの欄に属性を持ち、欄を数値で埋めると横の合計や、縦の合計を自動的に算出してくれる。算出方法はあらかじめ会話的に与えておく。</p>
<p>　Oleo は、現在作成中の GNU スプレッドシートである。端末の文字ベースのユーザ・インタフェースを提供するが、次のような X Window ベースにしたい。<a href="#n.d">◆3,4</a></p>

<ul>
<li><p>X Window 対応にすれば複数のウィンドウとそれの重複が可能になる。例えば、片方のウィンドウで見ながら、別のウィンドウで修正するなど。</p></li>
<li><p>入力はマウス・ベースで行なう。カーソル移動をマウスで行なうだけではなく、セル (行と列) や単独、またはそのグループの選択も可能となる。行や列の大きさもマウスで変更する。</p></li>
<li><p>複数のフォントと大きさをサポートする。たくさんの情報を出力したい場合は、小さなフォントも扱う。OHP を使った発表資料を作成する場合など、大きめのはっきりしたフォントを使う。画面上の表示と同じ出力もサポートする。</p></li>
<li><p>グラフやチャート出力機能。</p></li>
</ul>

<p>　現在作業中の Oleo は、文字端末上でのコマンドのキーの割り当てを、bash(GNU シェル) や gdb(GNU デバッガ) と同じようにユーザが自由に変更することができる。将来は、X Window System に対応させて、コマンド・メニューやキーの再割り当ても可能にすることを目指している。<a href="#n.f">◆5</a></p>

<h4>2-2. インタフェース・ビルダー</h4>

<p>　X Window System 用のユーザ・インタフェース、特にウィンドウのレイアウトを最初から書くのは大変である。ライブラリやウィジェット (ライブラリより機能が上のもの) あるいはツールキットを使っても手間はそれほど減らず、統一されたユーザ・インタフェースを提供するのも難しい。これを容易にするのがインタフェース・ビルダーで、NeXT 社のものが有名である。</p>
<p>　プロジェクト GNU でもインタフェース・ビルダーを考えている。</p>

<h4>2-3. 数値計算パッケージ</h4>

<p>　数学用、統計用、科学用数値計算パッケージもプロジェクト GNU の作業リストに入っている。例えば、行列演算や数値積分、FFT などのサブルーチンの集合である。FSF では統計用のパッケージから始めたいとのこと。</p>

<h4>2-4. 数式処理システム</h4>

<p>　JACAL という数式処理システムを開発中である。これの対象領域を広げたい。</p>

<h4>2-5. その他</h4>

<p>　次の作業もタスク・リストに入っている。</p>
<ul>
<li><p>メーラー(電子メールの配布システム)</p></li>
<li><p>シェル・プログラミング言語</p></li>
<li><p>文字認識システム</p></li>
<li><p>ドキュメント</p>
<p>　C 言語リファレンス・マニュアル</p>
<p>　C 言語ライブラリ・リファレンス・マニュアル</p>
<p>　X Window System プログラミング入門</p>
<p>　Ghostscript リファレンス・マニュアル</p>
<p>　TeX マニュアル</p>
<p>　Fortran リファレンス・マニュアル</p></li>
</ul>

<h3 id="h.3">3. 今月のニュース</h3>

<h4>3-1.Mach カーネルのフリー・コードの配布</h4>

<p>　かねてより噂されていた CMU の Mach カーネルの最新版 3.0 のコピー・フリー部分がリリースされた。これでようやくプロジェクト GNU において本格的に GNU カーネルの作業を開始することができる。</p>

<dl>
<dt>●バージョン</dt><dd><p>Mach 3.0　マイクロカーネル　MK41　　<a href="#n.g">◆6</a></p></dd>
<dt>●リリース日</dt><dd><p>1991 年 2 月 7 日</p></dd>
<dt>●投稿者</dt><dd><p>mrt@MRT.MACH.CS.CMU.EDU(Mary Thompson)</p></dd>
<dt>●ニュース・グループ</dt><dd><p>comp.os.mach</p></dd>
<dt>●入手方法</dt>
<dd>
<p>方　法      anonymous ftp</p>
<p>マシン名    cs.cmu.edu(128.2.222.173)</p>
<p>ファイル名  mach3/{default.tar.Z,i386.tar.Z,mips.tar.Z}</p>
<p>　この他に日本の 5 箇所の ftp サイトから anonymous ftp で取得可能</p>
</dd>
<dt>●報告</dt>
<dd>
<ul>
<li><p>対象マシンは Intel 社 i386 を使用している IBM AT 互換のパーソナル・コンピュータと DECstation というワークステーションである。この 2 つのマシン用の I/O ドライバも同時に配布された。</p></li>
<li><p>ライセンスが不要なシステム環境を提供する。</p></li>
<li><p>独立したシステムは作成できない。</p></li>
<li><p>このマイクロカーネルには仮想記憶管理、プロセス間通信、タスク、スレッド、割り込み、スケジュールのための基本機能 I/O ドライバが用意されている。<a href="#n.h">◆7</a></p></li>
<li><p>Unix サーバがないと Unix と互換の環境を提供することができない。Unix サーバでは、ファイル・システムや端末関係の入出力、ネットワーク、シグナルや Unix のタスクのような機能を実現する。</p></li>
</ul>
<p>　CMU で作成している Unix サーバのサブセットとして POE がある。GNU カーネルでは、まずこれをベースにした拡張を行ない、Unix サーバとする。</p>
<p>　この POE はファイル・システム・コードも含むだろうか ?　今ふと疑問が浮かんだ。<a href="#n.i">◆8</a></p>
</dd>
</dl>
<h3 id="h.4">4. おわりに</h3>

<p>　ダラスの USENIX に参加した時の本体と周辺を縮めて報告した。</p>
<p>　ダラス、ボストンを廻った今回の出張の帰国出発点はボストンになった。ボストンのローガン国際空港から、朝 7 時 30 分発の飛行機に乗った。東京、マレーシア行きであった。途中のシカゴで小さな飛行機からジャンボ機に乗り換える。もちろんすいていた。ボストン〜シカゴ間は 3 時間ほど、シカゴ〜東京間を北回りで 12 時間 30 分ほど乗って午後 2 時 30 分に成田に着いた。ローガン空港で日の出を拝めたことと、北極を眼下に見ることができたのが幸いとはいうもののだいぶ疲れた。2 週間ほどその疲れをひきずりながら、次回の USENIX のころは (戦争は終わっていることを願いつつ) どうなっているのだろうか、と憂慮している今日このごろである。<a href="#n.j">◆9,10</a></p>


<h2>参考文献</h2>
<dl>
<dt id="r.a">★1</dt><dd><p
>　Richard Stallman,&quot;Introduction to The Internals of The GNU C Compiler&quot;,1991 Winter USENIX Tutorial Text</p>
</dd>
<dt id="r.b">★2</dt><dd><p
>　Stephen C. Johnson, &quot;Parallel Programming and Scalable Software&quot;,1991 Winter USENIX Tutorial Text</p>
</dd>
</dl>


<hr/>
<h2>Think GNU　連載第 13 回【脚注】</h2>

<dl>
<dt id="n.a">◆1</dt><dd><p
>半年程で戦争は終結したが、今度は不景気の波が押し寄せている。</p>
</dd>
<dt id="n.b">*1</dt><dd><p
>端末室…USENIX では端末を複数台置いて参加者が自由に使えるような便宜をはかっている。そこでは電話用のモデムや Internet へのアクセスも可能である。</p>
</dd>
<dt id="n.c">◆2</dt><dd><p
>AFS は性能向上のためにキャッシュを備えている点と、広域ネットワーク・ファイル・システムが構築できる点が特徴である。</p>
</dd>
<dt id="n.d">◆3</dt><dd><p
>〈スプレッドシート・プログラムの運用〉スプレッドシート・プログラムの運用について考えてみた。清算書を計算する場合、スプレッドシート・プログラムがあると便利である。スプレッドシート・プログラムがなかったとすると、清算書を作成する手順は、</p>

<p>(1)　支払いが発生するつど、その日付と内訳をメモしておく。</p>
<p>(2)　後日、清算書を書く際に、メモの内容を清算書に書き写す。</p>
<p>(3)　電卓を使って、縦計と横計、そして必要に応じてレート換算を行なう。</p>

<p>　スプレッドシート・プログラムがあれば、電卓代わりに使うことができる。つまり、(3)　はこのようになるだろう。</p>

<p>(3') メモ内容の金額の部分をスプレッドシート・プログラムに入力する。併せて計算式も入力し、合計を求める。</p>

<p>　金額だけでなく、内訳もプログラムに与え、清算書のフォーマットで出力する方法も考えられる。フォーマットする機能がプログラムに要求される (Oleo には現在そういった機能はない)。あるいは、後処理プログラムを用意して、スプレッドシート・プログラムの計算機能をフォーマットしてもよい。</p>
<p>　スプレッド・プログラムで処理するにせよ、後処理プログラムで処理するにせよ、複雑なフォーマットは難しい。あるいは、複雑なフォーマットを手短に作れない。これを可能にしたのが DTP であり、会話型のものが適している。そこで DTP にスプレッドシート・プログラムの計算機能を取り込む、という方法を考えてみる。</p>
<p>　プロジェクト GNU では、現在 TeX という DTP を採用している。GNU Emacs への DTP 機能の導入というアイデアが以前からある。早期実現が望まれるところである。</p>
</dd>
<dt id="n.e">◆4</dt><dd><p
>Oleo に X Window System インタフェースを追加する予定がある。その際、簡単なフォーマット機能が入るかもしれない。</p>
<p>　Oleo の文字端末ベースのユーザ・インタフェース部分を少し修正すれば、MS-DOS 上に移植できるだろう。</p>
<p>　ノートブック型のパーソナル・コンピュータに Oleo を移植し、清算すべき項目が発生した時点で、内訳と金額を Oleo に与えていくという運用方法も考えられる。つまり、データが発生したら処理するという方針である。清算書の作成時に最終的な縦計や横計を計算してフォーマット出力する。このような運用をも考慮に入れて、Oleo への機能拡張、追加をはかるべきであろう。つまり、X Window System ユーザ・インタフェースだけをサポートし、文字端末ベースのユーザ・インタフェースを削除するようなことのないように。</p>
</dd>
<dt id="n.f">◆5</dt><dd><p
>〈ウィンドウ・プログラムで思うこと〉たいていのウィンドウ・プログラムはマニュアルを参照しなくても使える。しかしながら、カスタマイズ機能が不十分である。このことを解決するには一般に、</p>

<ul>
<li><p>インタフェース・ビルダーを用意し、ユーザに開放する。必要に応じてバイナリだけでなく、ソース・コードあるいはオブジェクト・ファイルもリリースする。インタフェース・ビルダーはソース・コード、あるいはカスタマイズ用の言語を生成する。従って、次の 2 つとの組み合わせが考えられる。</p></li>
</ul>

<ul>
<li><p>カスタマイズのための言語を提供する。例えば、Motif の UIL のような言語を。</p></li>
<li><p>カスタマイズに適した言語で全体を記述する。インタープリタ型のものがよいだろう。</p></li>
</ul>

<p>という方法がある。どの程度実用に耐え得るか、一度実験してみたいと思っている。</p>
</dd>
<dt id="n.g">◆6</dt><dd><p
>MK41 の 41 はマイナー・リリース番号である。</p>
</dd>
<dt id="n.h">◆7</dt><dd><p
>マイクロカーネルのみでは独立して動作せず、何らかのサーバが必要である。</p>
</dd>
<dt id="n.i">◆8</dt><dd><p
>POE はβリリースとして配布されている。ファイル・システムも含んでいるが書き込みをサポートしていない。</p>
</dd>
<dt id="n.j">◆9</dt><dd><p
>ちなみに、ここで撮影した朝日の写真が第 10 回の中で使われているものである。</p>
</dd>
<dt id="n.k">◆10</dt><dd><p
>戦争はすぐ終わったが、核査察を受け入れるか、受け入れないかで最近緊張が高まっていた。</p>
</dd>
</dl>
<hr/>
<ul>
<li><a href="../orig/copying">取り扱い注意</a></li>
<li><a href="tgb01.html">次→</a></li>
<li><a href="tga12.html">←前</a></li>
<li><a href="tga00.html">まえがき、目次</a></li>
<li><a href="../">(HTML版)Think GNU配布</a></li>
</ul>
</body></html>
